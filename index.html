<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ратник - Мониторинг в реальном времени</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        h1 {
            font-size: 2rem;
        }
        
        .status-bar {
            display: flex;
            gap: 10px;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #2ecc71;
        }
        
        .offline {
            background-color: #e74c3c;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .panel {
            background-color: white;
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .panel h2 {
            margin-bottom: 15px;
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
        }
        
        .build-controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        button {
            padding: 10px 15px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: var(--primary-color);
        }
        
        .build-button {
            background-color: var(--accent-color);
        }
        
        .build-button:hover {
            background-color: #c0392b;
        }
        
        .monitor {
            height: 300px;
            overflow-y: auto;
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
        }
        
        .log-entry {
            margin-bottom: 5px;
            border-left: 3px solid var(--secondary-color);
            padding-left: 10px;
        }
        
        .error {
            border-left-color: var(--accent-color);
            color: #e74c3c;
        }
        
        .success {
            border-left-color: #2ecc71;
            color: #2ecc71;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: 5px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--secondary-color);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--dark-color);
        }
        
        .github-info {
            margin-top: 20px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: var(--dark-color);
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .stats {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Ратник v1.0</h1>
            <div class="status-bar">
                <div class="status-indicator">
                    <div class="status-dot" id="connection-status"></div>
                    <span>Соединение</span>
                </div>
                <div class="status-indicator">
                    <div class="status-dot" id="build-status"></div>
                    <span>Сборка</span>
                </div>
            </div>
        </header>
        
        <div class="dashboard">
            <div class="panel">
                <h2>Управление сборкой</h2>
                <div class="build-controls">
                    <button id="init-btn">Инициализировать проект</button>
                    <button id="build-btn" class="build-button">Запустить сборку</button>
                    <button id="test-btn">Запустить тесты</button>
                    <button id="deploy-btn">Деплой</button>
                </div>
                
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-value" id="build-time">0с</div>
                        <div class="stat-label">Время сборки</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="errors-count">0</div>
                        <div class="stat-label">Ошибки</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="warnings-count">0</div>
                        <div class="stat-label">Предупреждения</div>
                    </div>
                </div>
            </div>
            
            <div class="panel">
                <h2>Монитор в реальном времени</h2>
                <div class="monitor" id="monitor">
                    <div class="log-entry">Система инициализирована. Готов к работе.</div>
                </div>
            </div>
        </div>
        
        <div class="github-info">
            <h2>Интеграция с GitHub</h2>
            <p>Текущий репозиторий: <span id="repo-name">Не указан</span></p>
            <p>Последний коммит: <span id="last-commit">Не обнаружен</span></p>
            <button id="connect-github">Подключить GitHub</button>
        </div>
        
        <footer>
            <p>Ратник - система мониторинга и сборки | Сделано с ❤️ для GitHub</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Элементы DOM
            const connectionStatus = document.getElementById('connection-status');
            const buildStatus = document.getElementById('build-status');
            const monitor = document.getElementById('monitor');
            const buildTime = document.getElementById('build-time');
            const errorsCount = document.getElementById('errors-count');
            const warningsCount = document.getElementById('warnings-count');
            const repoName = document.getElementById('repo-name');
            const lastCommit = document.getElementById('last-commit');
            
            // Кнопки
            const initBtn = document.getElementById('init-btn');
            const buildBtn = document.getElementById('build-btn');
            const testBtn = document.getElementById('test-btn');
            const deployBtn = document.getElementById('deploy-btn');
            const connectGithubBtn = document.getElementById('connect-github');
            
            // Состояние системы
            let isBuilding = false;
            let errorCount = 0;
            let warningCount = 0;
            let buildSeconds = 0;
            let buildInterval;
            
            // Функция добавления записи в монитор
            function addLogEntry(message, type = 'info') {
                const entry = document.createElement('div');
                entry.className = `log-entry ${type}`;
                entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
                monitor.appendChild(entry);
                monitor.scrollTop = monitor.scrollHeight;
                
                if (type === 'error') {
                    errorCount++;
                    errorsCount.textContent = errorCount;
                } else if (type === 'warning') {
                    warningCount++;
                    warningsCount.textContent = warningCount;
                }
            }
            
            // Имитация подключения к GitHub
            connectGithubBtn.addEventListener('click', function() {
                addLogEntry('Подключение к GitHub...');
                
                // Имитация задержки подключения
                setTimeout(() => {
                    repoName.textContent = 'ratnik-builder';
                    lastCommit.textContent = 'a1b2c3d - Добавлена система мониторинга';
                    addLogEntry('Успешно подключено к репозиторию ratnik-builder');
                    connectionStatus.classList.remove('offline');
                }, 1500);
            });
            
            // Инициализация проекта
            initBtn.addEventListener('click', function() {
                addLogEntry('Инициализация проекта...');
                
                setTimeout(() => {
                    addLogEntry('Установка зависимостей...');
                    
                    setTimeout(() => {
                        addLogEntry('Проект успешно инициализирован', 'success');
                    }, 1000);
                }, 1000);
            });
            
            // Запуск сборки
            buildBtn.addEventListener('click', function() {
                if (isBuilding) {
                    addLogEntry('Сборка уже выполняется', 'warning');
                    return;
                }
                
                isBuilding = true;
                buildStatus.classList.remove('offline');
                errorCount = 0;
                warningCount = 0;
                buildSeconds = 0;
                errorsCount.textContent = '0';
                warningsCount.textContent = '0';
                buildTime.textContent = '0с';
                
                addLogEntry('Запуск процесса сборки...');
                
                // Запуск таймера сборки
                clearInterval(buildInterval);
                buildInterval = setInterval(() => {
                    buildSeconds++;
                    buildTime.textContent = `${buildSeconds}с`;
                }, 1000);
                
                // Имитация процесса сборки
                setTimeout(() => addLogEntry('Компиляция исходных файлов...'), 1000);
                setTimeout(() => addLogEntry('Оптимизация кода...'), 2500);
                setTimeout(() => addLogEntry('Обнаружено предупреждение: неиспользуемая переменная', 'warning'), 4000);
                setTimeout(() => addLogEntry('Создание бандла...'), 5000);
                setTimeout(() => addLogEntry('Сборка завершена успешно!', 'success'), 7000);
                
                // Завершение сборки
                setTimeout(() => {
                    clearInterval(buildInterval);
                    isBuilding = false;
                    buildStatus.classList.add('offline');
                    addLogEntry(`Сборка заняла ${buildSeconds} секунд`);
                }, 7000);
            });
            
            // Запуск тестов
            testBtn.addEventListener('click', function() {
                addLogEntry('Запуск тестов...');
                
                setTimeout(() => {
                    addLogEntry('Тесты пройдены успешно', 'success');
                }, 3000);
            });
            
            // Деплой
            deployBtn.addEventListener('click', function() {
                addLogEntry('Начало процесса деплоя...');
                
                setTimeout(() => {
                    addLogEntry('Деплой завершен успешно', 'success');
                }, 2000);
            });
            
            // Имитация работы системы в реальном времени
            setInterval(() => {
                // Случайные системные события
                if (Math.random() > 0.8 && !isBuilding) {
                    const events = [
                        'Проверка обновлений...',
                        'Оптимизация памяти',
                        'Кэш очищен'
                    ];
                    addLogEntry(events[Math.floor(Math.random() * events.length)]);
                }
            }, 10000);
            
            // Начальное состояние
            connectionStatus.classList.add('offline');
            buildStatus.classList.add('offline');
            addLogEntry('Для начала работы подключите GitHub репозиторий');
        });
    </script>
</body>
</html>
